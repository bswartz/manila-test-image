
This project contains scripts and configs to create a small bootable
Linux image, primarily for the purposes of testing Manila.

It uses buildroot to do nearly all of the hard work.

The built Linux image is optimized for size, and targets the i386
platform under QEMU.

The following extra features are enabled:
* SSH server
* NFSv3/4 server
* NFSv3/4 client
* Samba4 Server
* CIFS client

== Dependencies needed to build ==

On Ubuntu:

 sudo apt-get -y install bison flex texinfo gettext ncurses-dev unzip \
     sshpass quilt qt-sdk qemu-kvm build-essential gcc-multilib

On Fedora:

 sudo dnf -y install bison flex texinfo gettext ncurses-devel unzip \
     sshpass quilt qt-devel qemu-kvm gcc-c++ make glibc-devel.i686

== Building the image ==

To make buildroot compile the system run:

 ./run-buildroot.sh

After buildroot succeeds, create the qcow2 file:

 ./make-bootable-disk.sh client

== Cleaning ==

To do a simple clean after changing some config options:

 cd buildroot
 make O=../output-client clean

To nuke everything and start over:

 rm -rf buildroot output* overlay*
 sudo rm *.qcow2

